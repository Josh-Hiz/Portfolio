import"./modulepreload-polyfill.b7f2da20.js";import{B as L,V as f,F as A,S as N,P as T,W as k,M as I,a as O,b as J,G as K,r as Y,c as Z}from"./utils.7857e517.js";class B extends L{constructor(n=1,m=.4,a=64,t=8,d=2,b=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:n,tube:m,tubularSegments:a,radialSegments:t,p:d,q:b},a=Math.floor(a),t=Math.floor(t);const v=[],R=[],W=[],P=[],w=new f,z=new f,h=new f,G=new f,p=new f,V=new f,u=new f;for(let e=0;e<=a;++e){const o=e/a*d*Math.PI*2;q(o,d,b,n,h),q(o+.01,d,b,n,G),V.subVectors(G,h),u.addVectors(G,h),p.crossVectors(V,u),u.crossVectors(p,V),p.normalize(),u.normalize();for(let c=0;c<=t;++c){const s=c/t*Math.PI*2,r=-m*Math.cos(s),i=m*Math.sin(s);w.x=h.x+(r*u.x+i*p.x),w.y=h.y+(r*u.y+i*p.y),w.z=h.z+(r*u.z+i*p.z),R.push(w.x,w.y,w.z),z.subVectors(w,h).normalize(),W.push(z.x,z.y,z.z),P.push(e/a),P.push(c/t)}}for(let e=1;e<=a;e++)for(let o=1;o<=t;o++){const c=(t+1)*(e-1)+(o-1),s=(t+1)*e+(o-1),r=(t+1)*e+o,i=(t+1)*(e-1)+o;v.push(c,s,i),v.push(s,r,i)}this.setIndex(v),this.setAttribute("position",new A(R,3)),this.setAttribute("normal",new A(W,3)),this.setAttribute("uv",new A(P,2));function q(e,o,c,s,r){const i=Math.cos(e),H=Math.sin(e),C=c/o*e,D=Math.cos(C);r.x=s*(2+D)*.5*i,r.y=s*(2+D)*H*.5,r.z=s*Math.sin(C)*.5}}static fromJSON(n){return new B(n.radius,n.tube,n.tubularSegments,n.radialSegments,n.p,n.q)}}const y=new N,x=new T(80,window.innerWidth/window.innerHeight,.1,1e3),M=new k({canvas:document.querySelector("#background")});M.setPixelRatio(window.devicePixelRatio);M.setSize(window.innerWidth,window.innerHeight);x.position.setZ(50);x.position.setY(0);M.render(y,x);const Q=new B(10,1.1,300,20,8,7),U=new I({color:16777215,wireframe:!0,transparent:!0,opacity:.5}),j=new O(Q,U);y.add(j);const X=new J(3.25,25,9),$=new I({color:16711680,wireframe:!1,transparent:!0,opacity:.7}),_=new O(X,$);y.add(_);const F=new K;y.add(F);Array(1500).fill().forEach(()=>Y(F));const E=function(){requestAnimationFrame(E),F.children.forEach(l=>{l.rotation.x+=l.userData.rx,l.rotation.y+=l.userData.ry,l.rotation.z+=l.userData.rz}),j.rotation.z+=.001,M.render(y,x)};E();Z(M,x);
